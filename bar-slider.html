<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>Bar Slider</title>
        <style type="text/css">
            * {
                padding: 0;
                margin: 0;
            }
            
            body {
                padding: 10px;
            }
            
            .bar-slider.bs-horizontal-type .bs-range-cover {
                background: transparent url(v_bar_marker.png) no-repeat center center;
            }
        </style>
        <link rel="stylesheet" href="bar-slider.css" type="text/css" />
        <link rel="stylesheet" href="bs-es.css" type="text/css" />
        <!-- <script type="text/javascript" src="jquery-1.11.3.min.js"></script> -->
        <script type="text/javascript" src="jquery-3.0.0.min.js"></script>
        <script type="text/javascript" src="jquery.domxy.js"></script>
        <script type="text/javascript" src="jquery-bar-slider.js"></script>
    </head>
    <body>
        <!-- Template by Jaycliff Arcilla -->
        <div>
            <span id="bs-structure-template-1" class="bar-slider bs-horizontal-type bs-wrap">
                <span class="bs-range-base">
                    <span class="bs-range-bar"></span>
                    <span class="bs-range-cover"></span>
                </span>
            </span>
            <script type="text/javascript">
                var slider = $.createBarSlider({ max: 20, min: 0, step: 6 });
                slider.switchTo('#bs-structure-template-1');
                slider.on('input', function (event, value) {
                    console.log('input: ' + value);
                }).on('change', function (event, value) {
                    console.log('change: ' + value);
                });
                slider.getElement().css('width', 147).css('height', 24);
            </script>
        </div>
        <div style="height: 150px; overflow-y: auto;">
            <span id="bs-structure-template-2" class="bar-slider bs-vertical-type bs-wrap">
                <span class="bs-range-base">
                    <span class="bs-range-bar"></span>
                    <span class="bs-range-cover"></span>
                </span>
            </span>
            <script type="text/javascript">
                var slider2 = $.createBarSlider({ type: 'vertical', max: 50, min: -100, value: 200 });
                slider2.switchTo('#bs-structure-template-2');
                slider2.on('input', function (event, value) {
                    console.log('input: ' + value);
                }).on('change', function (event, value) {
                    console.log('change: ' + value);
                }).on('mousewheel', function (event) {
                    event.preventDefault();
                });
            </script>
        </div>
        <p>
            <input id="range-1" type="range" min="0" max="100" step="1" value="50" />
            <script type="text/javascript">
                var range = document.getElementById('range-1');
                range.addEventListener('input', function () {
                    console.log('input: ' + this.value);
                }, false);
                range.addEventListener('change', function () {
                    console.log('change: ' + this.value);
                }, false);
            </script>
            <input id="range-2" type="range" min="0" max="50" step="1" value="10" />
            <script type="text/javascript">
                var range2 = document.getElementById('range-2');
                range2.addEventListener('input', function () {
                    console.log('input: ' + this.value);
                }, false);
                range2.addEventListener('change', function () {
                    console.log('change: ' + this.value);
                }, false);
            </script>
            <input id="range-3" type="range" min="0" max="20" value="19" step="6" />
            <script type="text/javascript">
                var range3 = document.getElementById('range-3');
                range3.addEventListener('input', function () {
                    console.log('input: ' + this.value);
                }, false);
                range3.addEventListener('change', function () {
                    console.log('change: ' + this.value);
                }, false);
            </script>
            <input id="range-4" type="range" min="1" max="127" value="" step="1" />
            <script type="text/javascript">
                var range4 = document.getElementById('range-4');
                range4.addEventListener('focus', function () {
                    console.log('focus');
                    console.log(document.activeElement);
                }, false);
                range4.addEventListener('mousedown', function (event) {
                    console.log(event);
                    console.log('mousedown');
                    console.log(document.activeElement);
                    event.preventDefault();
                }, false);
                range4.addEventListener('input', function () {
                    console.log('input: ' + this.value);
                    console.log(document.activeElement);
                }, false);
                range4.addEventListener('change', function () {
                    console.log('change: ' + this.value);
                }, false);
                range4.addEventListener('click', function () {
                    console.log('click: ' + this.value);
                }, false);
            </script>
            <!--
            <input type="text" name="input" />
            <input type="checkbox" name="check" />
            <input type="radio" name="radio" id="radio" />
            <textarea name="text"></textarea>
            -->
            <div id="bs-wrap" style="width: 50%; overflow-x: auto;">
                <input id="range-scroll" type="range" min="1" max="127" value="" step="1" style="width: 150%;" />
            </div>
            <script type="text/javascript">
                var $bs_wrap = $('#bs-wrap').on('mousedown mouseup mousemove click', function (event) {
                    switch (event.type) {
                    case 'mousewheel':
                        console.log('#bs-wrap: mousewheel');
                        break;
                    case 'mousedown':
                        console.log('#bs-wrap: mousedown');
                        break;
                    case 'mouseup':
                        console.log('#bs-wrap: mouseup');
                        break;
                    /*
                    case 'mousemove':
                        console.log('#bs-wrap: mousemove');
                        break;
                    */
                    case 'click':
                        console.log('#bs-wrap: click');
                        break;
                    }
                });
                window.bs = $.createBarSlider({ min: 1, max: 127, value: 0, step: 1, width: '150%', height: '16px' }).attachTo($bs_wrap).on('input', function (event, value) {
                    if (typeof value !== "number") {
                        value = this.val();
                    }
                    console.log(event.type + ': ' + value);
                    //this.disable();
                }).on('focus blur mousedown mouseup click keydown mousewheel', function (event) {
                    var event_type = event.type;
                    console.log('BS: ' + event_type);
                    switch (event_type) {
                    case 'focus':
                        //this.fire('blur');
                        break;
                    case 'mousedown':
                        /* falls through */
                    case 'keydown':
                        /* falls through */
                    case 'mousewheel':
                        event.preventDefault();
                        break;
                    }
                }).getElement().prop('id', 'bs-3');
                $('#range-scroll').on('mousedown mouseup mousemove click', function (event) {
                    event.preventDefault();
                    switch (event.type) {
                    case 'mousewheel':
                        console.log('#range-scroll: mousewheel');
                        break;
                    case 'mousedown':
                        console.log('#range-scroll: mousedown');
                        break;
                    case 'mouseup':
                        console.log('#range-scroll: mouseup');
                        break;
                    /*
                    case 'mousemove':
                        console.log('#range-scroll: mousemove');
                        break;
                    */
                    case 'click':
                        console.log('#range-scroll: click');
                        break;
                    }
                });
            </script>
            <input type="text" name="text" />
        </p>
        <div id="shitbox" style="float: left; border: solid red 1px; padding: 10px; background: pink;">
            <span id="spanb" style="display: block; width: 32px; height: 32px; background: white; position: relative;">
                <span id="spanc" style="position: absolute; top: 4px; left: 4px; right: 4px; bottom: 4px; background: #ccffcc;"></span>
            </span>
        </div>
        <script type="text/javascript">
            jQuery(document).ready(function ($) {
                "use strict";
                $('#shitbox').on('mousedown', function (event) {
                    console.log('#shitbox: mousedown');
                    console.log(event);
                });
                $('#spanb').on('mousedown', function (event) {
                    console.log('#spanb: mousedown');
                    console.log(event);
                });
            });
            window.shitbox = document.getElementById('shitbox');
            window.spanb = document.getElementById('spanb');
            window.spanc = document.getElementById('spanc');
            window.containsTarget = function containsTarget(target, node) {
                var k, len, children;
                if (target === node) {
                    return true;
                }
                children = node.children;
                len = children.length;
                if (len > 0) {
                    for (k = 0; k < len; k += 1) {
                        if (containsTarget(target, children[k])) {
                            return true;
                        }
                    }
                }
                return false;
            };
        </script>
    </body>
</html>